<div class="widget rounded m-2">
  <div *ngIf="isModeEdit()" class="h-96 flex flex-col">
    <div class="header flex items-end">
      <button class="ml-auto">
        <mat-icon (click)="this.toDeleteMode()" title="Supprimer le widget" aria-hidden="false">delete</mat-icon>
      </button>
    </div>
    <div class="items-center h-full flex flex-col space-y-4 mt-4 w-full text-center">
      <ng-container *ngTemplateOutlet="editComponent"> </ng-container>

      <button
        class="validateButton"
        mat-raised-button
        (click)="onValidation()"
        color="primary"
        [disabled]="!this.isFormValid"
      >
        Valider
      </button>
    </div>
  </div>

  <app-delete-widget
    *ngIf="this.isModeDelete()"
    (cancelWidgetDeletion)="toReadMode()"
    (validateWidgetDeletion)="deleteWidget()"
  ></app-delete-widget>

  <div *ngIf="this.isModeRead()" class="h-96 border-2 border-solid border-black rounded">
    <div class="header flex flex-row justify-between">
      <div class="font-bold flex-auto header-widget ml-2 mt-1">
        <ng-container *ngTemplateOutlet="header"> </ng-container>
      </div>

      <div class="flex flex-row widget-actions">
        <span *ngIf="additionalActions"><ng-container *ngTemplateOutlet="additionalActions"> </ng-container></span>
        <button>
          <mat-icon *ngIf="this.editComponent" (click)="this.toEditMode()" class="editButton">settings</mat-icon>
        </button>
        <button>
          <mat-icon (click)="this.refreshWidget()" class="refreshButton" aria-hidden="false">refresh</mat-icon>
        </button>
        <button>
          <mat-icon (click)="this.toDeleteMode()" class="deleteButton" aria-hidden="false">delete</mat-icon>
        </button>
      </div>
    </div>
    <div class="max-h-80 my-1 mx-2 overflow-y-scroll">
      <ng-container *ngTemplateOutlet="body"> </ng-container>
    </div>
  </div>
</div>
