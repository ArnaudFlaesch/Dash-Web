<dash-widget
  [isFormValid]="isFormValid()"
  [widgetData]="getWidgetData()"
  [isWidgetLoaded]="isWeatherLoaded && isForecastLoaded"
  (refreshWidgetAction)="this.refreshWidget()"
>
  <ng-template #headerIcon>
    <mat-icon>sunny</mat-icon>
  </ng-template>

  <ng-template #headerTitle>
    <div>La météo aujourd'hui à {{ city }}</div>
  </ng-template>

  <ng-template #editComponent>
    <mat-form-field appearance="fill">
      <mat-label>Ville</mat-label>
      <input
        id="cityNameInput"
        name="city"
        matInput
        [(ngModel)]="this.city"
        placeholder="Saisissez de nom de la ville"
      />
    </mat-form-field>
  </ng-template>

  <ng-template #body>
    @if (city && weather && weather.weather) {
      <dash-weather-widget-view
        [weather]="weather"
        [cityData]="cityData"
        [forecastResponse]="forecastResponse"
      ></dash-weather-widget-view>
    }
  </ng-template>
</dash-widget>
