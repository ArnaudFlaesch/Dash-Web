<app-widget [widgetData]="getWidgetData()" [isFormValid]="isFormValid()" [isWidgetLoaded]="isWidgetLoaded"
  (refreshWidgetAction)="this.refreshWidget()">
  <ng-template #header>
    <div class="header">
      <mat-icon>air</mat-icon>
      <a [href]="[airParifWebsiteUrl | safe]">
        <div>AirParif</div>
      </a>
    </div>
  </ng-template>

  <ng-template #editComponent>
    <form>
      <mat-form-field appearance="fill">
        <mat-label id="airParifApiKeyLabel">Clé d'API</mat-label>
        <input matInput id="airParifApiKey" [(ngModel)]="this.airParifApiKey"
          placeholder="Saisissez la clé d'API AirParif" />
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label id="communeInseeCodeLabel">Code commune</mat-label>
        <input matInput id="communeInseeCode" [(ngModel)]="this.communeInseeCode"
          placeholder="Saisissez le code commune" />
      </mat-form-field>
    </form>
  </ng-template>

  <ng-template #body>

    <app-airparif-map [airParifApiKey]="this.airParifApiKey" [airParifForecast]="this.airParifForecast"
      [airParifCouleursIndices]="this.airParifCouleursIndices"></app-airparif-map>
  </ng-template>
</app-widget>