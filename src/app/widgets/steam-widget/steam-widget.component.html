<app-widget [widgetData]="getWidgetData()" (refreshWidgetAction)="this.refreshWidget()">
  <ng-template #header>
    <div>
      <a href="{{ playerData?.profileurl }}" class="flex flex-row">
        <img src="{{ playerData?.avatar }}" />
        <p>{{ playerData?.personaname }}</p>
      </a>
    </div>
  </ng-template>

  <ng-template #body>
    <div class="flex flex-col">
      <div *ngFor="let game of this.ownedGames; let index = index">
        <mat-expansion-panel hideToggle>
          <mat-expansion-panel-header>
            <mat-panel-title
              ><div class="gameInfo flex flex-row">
                <div>
                  <img [src]="getGameImgSrc(game.appid, game.img_icon_url)" alt="game icon" />
                </div>
                <div>{{ game.name }}</div>
              </div>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <ng-template matExpansionPanelContent>
            <app-game-details [gameInfo]="game"></app-game-details>
          </ng-template>
        </mat-expansion-panel>
      </div>
    </div>
  </ng-template>
</app-widget>
