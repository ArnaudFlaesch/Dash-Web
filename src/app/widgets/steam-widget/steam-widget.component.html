<app-widget [widgetData]="getWidgetData()" (refreshWidgetAction)="this.refreshWidget()">
  <ng-template #header>
    <div>
      <a href="{{ playerData?.profileurl }}" class="flex flex-row">
        <img src="{{ playerData?.avatar }}" alt="{{ playerData?.personaname }}" />
        <p>{{ playerData?.personaname }}</p>
      </a>
    </div>
  </ng-template>

  <ng-template #body>
    <form class="example-form">
      <mat-form-field appearance="fill">
        <mat-label>Recherchez un jeu</mat-label>
        <input matInput [formControl]="searchFormControl" />
      </mat-form-field>
    </form>

    <div class="flex flex-col">
      <div *ngFor="let game of this.ownedGames; let index = index">
        <mat-expansion-panel hideToggle>
          <mat-expansion-panel-header>
            <mat-panel-title
              ><div class="gameInfo flex flex-row">
                <div>
                  <img [src]="getGameImgSrc(game.appid, game.img_icon_url)" alt="game icon" />
                </div>
                <div>{{ game.name }}</div>
              </div>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <ng-template matExpansionPanelContent>
            <app-game-details [gameInfo]="game"></app-game-details>
          </ng-template>
        </mat-expansion-panel>
      </div>
    </div>
    <mat-paginator
      (page)="onPageChanged($event)"
      [length]="gameCount"
      [pageSize]="pageSize"
      [pageIndex]="pageNumber"
      [pageSizeOptions]="pageSizeOptions"
      aria-label="SÃ©lectionnez une page"
    >
    </mat-paginator>
  </ng-template>
</app-widget>
