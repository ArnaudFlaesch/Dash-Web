<app-widget [widgetData]="getWidgetData()" [isFormValid]="isFormValid()" (refreshWidgetAction)="this.refreshWidget()"
  [isWidgetLoaded]="true">

  <ng-template #header>
    <div class="header">
      <a href="{{ playerData?.profileurl }}" class="flex flex-row items-center space-x-2">
        <img class="w-9 rounded" src="{{ playerData?.avatar }}" alt="{{ playerData?.personaname }}" />
        <p>{{ playerData?.personaname }}</p>
      </a>
    </div>
  </ng-template>

  <ng-template #editComponent>
    <mat-form-field appearance="fill">
      <mat-label id="steamUserIdLabel">Utilisateur Steam</mat-label>
      <input matInput id="steamUserIdInput" name="userId" [(ngModel)]="this.steamUserId"
        placeholder="Saisissez l'user ID du joueur Steam'" />
    </mat-form-field>
  </ng-template>

  <ng-template #body>
    <form>
      <mat-form-field appearance="fill">
        <mat-label>Recherchez un jeu</mat-label>
        <input matInput [formControl]="searchFormControl" />
      </mat-form-field>
    </form>

    <div class="flex flex-col">
      <div *ngFor="let game of this.ownedGamesDisplay">
        <mat-expansion-panel hideToggle>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <div class="gameInfo flex flex-row">
                <div class="h-10">
                  <div class="flex flex-row items-center space-x-2">
                    <img [src]="game.gameImgSrc" alt="game icon" />
                    <p>{{ game.name }}</p>
                  </div>
                </div>
              </div>
            </mat-panel-title>
          </mat-expansion-panel-header>
          <ng-template matExpansionPanelContent>
            <app-game-details [steamUserId]="this.steamUserId" [profileUrl]="this.playerData?.profileurl"
              [gameInfo]="game"></app-game-details>
          </ng-template>
        </mat-expansion-panel>
      </div>
    </div>
    <mat-paginator (page)="onPageChanged($event)" [length]="gameCount" [pageSize]="pageSize" [pageIndex]="pageNumber"
      [pageSizeOptions]="pageSizeOptions" aria-label="SÃ©lectionnez une page">
    </mat-paginator>
  </ng-template>
</app-widget>
